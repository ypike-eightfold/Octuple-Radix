import{r as a}from"./index-BlmOqGMO.js";import{I as Ne}from"./index-47vA16Eq.js";import{c as Ee}from"./index-Dkb_ZYRU.js";import{c as T}from"./index-DW48STyt.js";import{P as b,d as Q}from"./index-CiEb6DFw.js";import{u as te}from"./index-Dz6nX4BC.js";import{u as k,a as he}from"./index-CSHYywJy.js";import{u as Te}from"./index-CWo8_AO2.js";import{P as O}from"./index-CH1-paxq.js";import{u as ne}from"./index-CW4F2FBO.js";import{c as oe}from"./index-DZ3_ZFrS.js";import{D as Ie}from"./index-Bq0PzALz.js";import{u as ye}from"./index-DZ2oWOeb.js";import{u as V}from"./index-5uDXI3f6.js";import{u as S}from"./index-DZCApzUK.js";import{R as be}from"./index-UwpWBZco.js";import{j as c}from"./jsx-runtime-Cf8x2fCZ.js";var j="NavigationMenu",[W,re,Pe]=oe(j),[G,_e,De]=oe(j),[$]=Ee(j,[Pe,De]),[Se,y]=$(j),[je,Ae]=$(j),ie=a.forwardRef((e,t)=>{const{__scopeNavigationMenu:r,value:i,onValueChange:n,defaultValue:o,delayDuration:s=200,skipDelayDuration:d=300,orientation:u="horizontal",dir:x,...l}=e,[g,N]=a.useState(null),E=k(t,w=>N(w)),C=Te(x),p=a.useRef(0),R=a.useRef(0),h=a.useRef(0),[P,f]=a.useState(!0),[m,v]=te({prop:i,onChange:w=>{const D=w!=="",K=d>0;D?(window.clearTimeout(h.current),K&&f(!1)):(window.clearTimeout(h.current),h.current=window.setTimeout(()=>f(!0),d)),n==null||n(w)},defaultProp:o??"",caller:j}),M=a.useCallback(()=>{window.clearTimeout(R.current),R.current=window.setTimeout(()=>v(""),150)},[v]),I=a.useCallback(w=>{window.clearTimeout(R.current),v(w)},[v]),_=a.useCallback(w=>{m===w?window.clearTimeout(R.current):p.current=window.setTimeout(()=>{window.clearTimeout(R.current),v(w)},s)},[m,v,s]);return a.useEffect(()=>()=>{window.clearTimeout(p.current),window.clearTimeout(R.current),window.clearTimeout(h.current)},[]),c.jsx(ae,{scope:r,isRootMenu:!0,value:m,dir:C,orientation:u,rootNavigationMenu:g,onTriggerEnter:w=>{window.clearTimeout(p.current),P?_(w):I(w)},onTriggerLeave:()=>{window.clearTimeout(p.current),M()},onContentEnter:()=>window.clearTimeout(R.current),onContentLeave:M,onItemSelect:w=>{v(D=>D===w?"":w)},onItemDismiss:()=>v(""),children:c.jsx(b.nav,{"aria-label":"Main","data-orientation":u,dir:C,...l,ref:E})})});ie.displayName=j;var z="NavigationMenuSub",ke=a.forwardRef((e,t)=>{const{__scopeNavigationMenu:r,value:i,onValueChange:n,defaultValue:o,orientation:s="horizontal",...d}=e,u=y(z,r),[x,l]=te({prop:i,onChange:n,defaultProp:o??"",caller:z});return c.jsx(ae,{scope:r,isRootMenu:!1,value:x,dir:u.dir,orientation:s,rootNavigationMenu:u.rootNavigationMenu,onTriggerEnter:g=>l(g),onItemSelect:g=>l(g),onItemDismiss:()=>l(""),children:c.jsx(b.div,{"data-orientation":s,...d,ref:t})})});ke.displayName=z;var ae=e=>{const{scope:t,isRootMenu:r,rootNavigationMenu:i,dir:n,orientation:o,children:s,value:d,onItemSelect:u,onItemDismiss:x,onTriggerEnter:l,onTriggerLeave:g,onContentEnter:N,onContentLeave:E}=e,[C,p]=a.useState(null),[R,h]=a.useState(new Map),[P,f]=a.useState(null);return c.jsx(Se,{scope:t,isRootMenu:r,rootNavigationMenu:i,value:d,previousValue:ye(d),baseId:ne(),dir:n,orientation:o,viewport:C,onViewportChange:p,indicatorTrack:P,onIndicatorTrackChange:f,onTriggerEnter:S(l),onTriggerLeave:S(g),onContentEnter:S(N),onContentLeave:S(E),onItemSelect:S(u),onItemDismiss:S(x),onViewportContentChange:a.useCallback((m,v)=>{h(M=>(M.set(m,v),new Map(M)))},[]),onViewportContentRemove:a.useCallback(m=>{h(v=>v.has(m)?(v.delete(m),new Map(v)):v)},[]),children:c.jsx(W.Provider,{scope:t,children:c.jsx(je,{scope:t,items:R,children:s})})})},se="NavigationMenuList",ce=a.forwardRef((e,t)=>{const{__scopeNavigationMenu:r,...i}=e,n=y(se,r),o=c.jsx(b.ul,{"data-orientation":n.orientation,...i,ref:t});return c.jsx(b.div,{style:{position:"relative"},ref:n.onIndicatorTrackChange,children:c.jsx(W.Slot,{scope:r,children:n.isRootMenu?c.jsx(we,{asChild:!0,children:o}):o})})});ce.displayName=se;var ue="NavigationMenuItem",[Fe,le]=$(ue),de=a.forwardRef((e,t)=>{const{__scopeNavigationMenu:r,value:i,...n}=e,o=ne(),s=i||o||"LEGACY_REACT_AUTO_VALUE",d=a.useRef(null),u=a.useRef(null),x=a.useRef(null),l=a.useRef(()=>{}),g=a.useRef(!1),N=a.useCallback((C="start")=>{if(d.current){l.current();const p=H(d.current);p.length&&X(C==="start"?p:p.reverse())}},[]),E=a.useCallback(()=>{if(d.current){const C=H(d.current);C.length&&(l.current=He(C))}},[]);return c.jsx(Fe,{scope:r,value:s,triggerRef:u,contentRef:d,focusProxyRef:x,wasEscapeCloseRef:g,onEntryKeyDown:N,onFocusProxyEnter:N,onRootContentClose:E,onContentFocusOutside:E,children:c.jsx(b.li,{...n,ref:t})})});de.displayName=ue;var U="NavigationMenuTrigger",ve=a.forwardRef((e,t)=>{const{__scopeNavigationMenu:r,disabled:i,...n}=e,o=y(U,e.__scopeNavigationMenu),s=le(U,e.__scopeNavigationMenu),d=a.useRef(null),u=k(d,s.triggerRef,t),x=xe(o.baseId,s.value),l=Re(o.baseId,s.value),g=a.useRef(!1),N=a.useRef(!1),E=s.value===o.value;return c.jsxs(c.Fragment,{children:[c.jsx(W.ItemSlot,{scope:r,value:s.value,children:c.jsx(Ce,{asChild:!0,children:c.jsx(b.button,{id:x,disabled:i,"data-disabled":i?"":void 0,"data-state":J(E),"aria-expanded":E,"aria-controls":l,...n,ref:u,onPointerEnter:T(e.onPointerEnter,()=>{N.current=!1,s.wasEscapeCloseRef.current=!1}),onPointerMove:T(e.onPointerMove,L(()=>{i||N.current||s.wasEscapeCloseRef.current||g.current||(o.onTriggerEnter(s.value),g.current=!0)})),onPointerLeave:T(e.onPointerLeave,L(()=>{i||(o.onTriggerLeave(),g.current=!1)})),onClick:T(e.onClick,()=>{o.onItemSelect(s.value),N.current=E}),onKeyDown:T(e.onKeyDown,C=>{const R={horizontal:"ArrowDown",vertical:o.dir==="rtl"?"ArrowLeft":"ArrowRight"}[o.orientation];E&&C.key===R&&(s.onEntryKeyDown(),C.preventDefault())})})})}),E&&c.jsxs(c.Fragment,{children:[c.jsx(be,{"aria-hidden":!0,tabIndex:0,ref:s.focusProxyRef,onFocus:C=>{const p=s.contentRef.current,R=C.relatedTarget,h=R===d.current,P=p==null?void 0:p.contains(R);(h||!P)&&s.onFocusProxyEnter(h?"start":"end")}}),o.viewport&&c.jsx("span",{"aria-owns":l})]})]})});ve.displayName=U;var Le="NavigationMenuLink",Z="navigationMenu.linkSelect",fe=a.forwardRef((e,t)=>{const{__scopeNavigationMenu:r,active:i,onSelect:n,...o}=e;return c.jsx(Ce,{asChild:!0,children:c.jsx(b.a,{"data-active":i?"":void 0,"aria-current":i?"page":void 0,...o,ref:t,onClick:T(e.onClick,s=>{const d=s.target,u=new CustomEvent(Z,{bubbles:!0,cancelable:!0});if(d.addEventListener(Z,x=>n==null?void 0:n(x),{once:!0}),Q(d,u),!u.defaultPrevented&&!s.metaKey){const x=new CustomEvent(F,{bubbles:!0,cancelable:!0});Q(d,x)}},{checkForDefaultPrevented:!1})})})});fe.displayName=Le;var Y="NavigationMenuIndicator",Oe=a.forwardRef((e,t)=>{const{forceMount:r,...i}=e,n=y(Y,e.__scopeNavigationMenu),o=!!n.value;return n.indicatorTrack?Ne.createPortal(c.jsx(O,{present:r||o,children:c.jsx(Ke,{...i,ref:t})}),n.indicatorTrack):null});Oe.displayName=Y;var Ke=a.forwardRef((e,t)=>{const{__scopeNavigationMenu:r,...i}=e,n=y(Y,r),o=re(r),[s,d]=a.useState(null),[u,x]=a.useState(null),l=n.orientation==="horizontal",g=!!n.value;a.useEffect(()=>{var p;const C=(p=o().find(R=>R.value===n.value))==null?void 0:p.ref.current;C&&d(C)},[o,n.value]);const N=()=>{s&&x({size:l?s.offsetWidth:s.offsetHeight,offset:l?s.offsetLeft:s.offsetTop})};return B(s,N),B(n.indicatorTrack,N),u?c.jsx(b.div,{"aria-hidden":!0,"data-state":g?"visible":"hidden","data-orientation":n.orientation,...i,ref:t,style:{position:"absolute",...l?{left:0,width:u.size+"px",transform:`translateX(${u.offset}px)`}:{top:0,height:u.size+"px",transform:`translateY(${u.offset}px)`},...i.style}}):null}),A="NavigationMenuContent",me=a.forwardRef((e,t)=>{const{forceMount:r,...i}=e,n=y(A,e.__scopeNavigationMenu),o=le(A,e.__scopeNavigationMenu),s=k(o.contentRef,t),d=o.value===n.value,u={value:o.value,triggerRef:o.triggerRef,focusProxyRef:o.focusProxyRef,wasEscapeCloseRef:o.wasEscapeCloseRef,onContentFocusOutside:o.onContentFocusOutside,onRootContentClose:o.onRootContentClose,...i};return n.viewport?c.jsx(Ve,{forceMount:r,...u,ref:s}):c.jsx(O,{present:r||d,children:c.jsx(ge,{"data-state":J(d),...u,ref:s,onPointerEnter:T(e.onPointerEnter,n.onContentEnter),onPointerLeave:T(e.onPointerLeave,L(n.onContentLeave)),style:{pointerEvents:!d&&n.isRootMenu?"none":void 0,...u.style}})})});me.displayName=A;var Ve=a.forwardRef((e,t)=>{const r=y(A,e.__scopeNavigationMenu),{onViewportContentChange:i,onViewportContentRemove:n}=r;return V(()=>{i(e.value,{ref:t,...e})},[e,t,i]),V(()=>()=>n(e.value),[e.value,n]),null}),F="navigationMenu.rootContentDismiss",ge=a.forwardRef((e,t)=>{const{__scopeNavigationMenu:r,value:i,triggerRef:n,focusProxyRef:o,wasEscapeCloseRef:s,onRootContentClose:d,onContentFocusOutside:u,...x}=e,l=y(A,r),g=a.useRef(null),N=k(g,t),E=xe(l.baseId,i),C=Re(l.baseId,i),p=re(r),R=a.useRef(null),{onItemDismiss:h}=l;a.useEffect(()=>{const f=g.current;if(l.isRootMenu&&f){const m=()=>{var v;h(),d(),f.contains(document.activeElement)&&((v=n.current)==null||v.focus())};return f.addEventListener(F,m),()=>f.removeEventListener(F,m)}},[l.isRootMenu,e.value,n,h,d]);const P=a.useMemo(()=>{const m=p().map(D=>D.value);l.dir==="rtl"&&m.reverse();const v=m.indexOf(l.value),M=m.indexOf(l.previousValue),I=i===l.value,_=M===m.indexOf(i);if(!I&&!_)return R.current;const w=(()=>{if(v!==M){if(I&&M!==-1)return v>M?"from-end":"from-start";if(_&&v!==-1)return v>M?"to-start":"to-end"}return null})();return R.current=w,w},[l.previousValue,l.value,l.dir,p,i]);return c.jsx(we,{asChild:!0,children:c.jsx(Ie,{id:C,"aria-labelledby":E,"data-motion":P,"data-orientation":l.orientation,...x,ref:N,disableOutsidePointerEvents:!1,onDismiss:()=>{var m;const f=new Event(F,{bubbles:!0,cancelable:!0});(m=g.current)==null||m.dispatchEvent(f)},onFocusOutside:T(e.onFocusOutside,f=>{var v;u();const m=f.target;(v=l.rootNavigationMenu)!=null&&v.contains(m)&&f.preventDefault()}),onPointerDownOutside:T(e.onPointerDownOutside,f=>{var I;const m=f.target,v=p().some(_=>{var w;return(w=_.ref.current)==null?void 0:w.contains(m)}),M=l.isRootMenu&&((I=l.viewport)==null?void 0:I.contains(m));(v||M||!l.isRootMenu)&&f.preventDefault()}),onKeyDown:T(e.onKeyDown,f=>{var M;const m=f.altKey||f.ctrlKey||f.metaKey;if(f.key==="Tab"&&!m){const I=H(f.currentTarget),_=document.activeElement,w=I.findIndex(Me=>Me===_),K=f.shiftKey?I.slice(0,w).reverse():I.slice(w+1,I.length);X(K)?f.preventDefault():(M=o.current)==null||M.focus()}}),onEscapeKeyDown:T(e.onEscapeKeyDown,f=>{s.current=!0})})})}),q="NavigationMenuViewport",pe=a.forwardRef((e,t)=>{const{forceMount:r,...i}=e,o=!!y(q,e.__scopeNavigationMenu).value;return c.jsx(O,{present:r||o,children:c.jsx(Ge,{...i,ref:t})})});pe.displayName=q;var Ge=a.forwardRef((e,t)=>{const{__scopeNavigationMenu:r,children:i,...n}=e,o=y(q,r),s=k(t,o.onViewportChange),d=Ae(A,e.__scopeNavigationMenu),[u,x]=a.useState(null),[l,g]=a.useState(null),N=u?(u==null?void 0:u.width)+"px":void 0,E=u?(u==null?void 0:u.height)+"px":void 0,C=!!o.value,p=C?o.value:o.previousValue;return B(l,()=>{l&&x({width:l.offsetWidth,height:l.offsetHeight})}),c.jsx(b.div,{"data-state":J(C),"data-orientation":o.orientation,...n,ref:s,style:{pointerEvents:!C&&o.isRootMenu?"none":void 0,"--radix-navigation-menu-viewport-width":N,"--radix-navigation-menu-viewport-height":E,...n.style},onPointerEnter:T(e.onPointerEnter,o.onContentEnter),onPointerLeave:T(e.onPointerLeave,L(o.onContentLeave)),children:Array.from(d.items).map(([h,{ref:P,forceMount:f,...m}])=>{const v=p===h;return c.jsx(O,{present:f||v,children:c.jsx(ge,{...m,ref:he(P,M=>{v&&M&&g(M)})})},h)})})}),ze="FocusGroup",we=a.forwardRef((e,t)=>{const{__scopeNavigationMenu:r,...i}=e,n=y(ze,r);return c.jsx(G.Provider,{scope:r,children:c.jsx(G.Slot,{scope:r,children:c.jsx(b.div,{dir:n.dir,...i,ref:t})})})}),ee=["ArrowRight","ArrowLeft","ArrowUp","ArrowDown"],Ue="FocusGroupItem",Ce=a.forwardRef((e,t)=>{const{__scopeNavigationMenu:r,...i}=e,n=_e(r),o=y(Ue,r);return c.jsx(G.ItemSlot,{scope:r,children:c.jsx(b.button,{...i,ref:t,onKeyDown:T(e.onKeyDown,s=>{if(["Home","End",...ee].includes(s.key)){let u=n().map(g=>g.ref.current);if([o.dir==="rtl"?"ArrowRight":"ArrowLeft","ArrowUp","End"].includes(s.key)&&u.reverse(),ee.includes(s.key)){const g=u.indexOf(s.currentTarget);u=u.slice(g+1)}setTimeout(()=>X(u)),s.preventDefault()}})})})});function H(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const n=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||n?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function X(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}function He(e){return e.forEach(t=>{t.dataset.tabindex=t.getAttribute("tabindex")||"",t.setAttribute("tabindex","-1")}),()=>{e.forEach(t=>{const r=t.dataset.tabindex;t.setAttribute("tabindex",r)})}}function B(e,t){const r=S(t);V(()=>{let i=0;if(e){const n=new ResizeObserver(()=>{cancelAnimationFrame(i),i=window.requestAnimationFrame(r)});return n.observe(e),()=>{window.cancelAnimationFrame(i),n.unobserve(e)}}},[e,r])}function J(e){return e?"open":"closed"}function xe(e,t){return`${e}-trigger-${t}`}function Re(e,t){return`${e}-content-${t}`}function L(e){return t=>t.pointerType==="mouse"?e(t):void 0}var ct=ie,ut=ce,lt=de,dt=ve,vt=fe,ft=me,mt=pe;export{ft as C,lt as I,ut as L,ct as R,dt as T,mt as V,vt as a};
