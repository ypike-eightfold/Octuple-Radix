import{r as n}from"./index-BlmOqGMO.js";import{y as N}from"./index-Dbpq9gcs.js";import{o as q,v as M,r as P}from"./flex-DvmXTkye.js";import{s as T}from"./color.prop-n6xztqZx.js";import{o as U}from"./high-contrast.prop-BhzBAZU8.js";import{r as V}from"./radius.prop-CIarg28h.js";import{d as z}from"./get-subtree-wctCFMnl.js";import{c as D}from"./index-Dkb_ZYRU.js";import{u as G}from"./index-DZCApzUK.js";import{u as A}from"./index-5uDXI3f6.js";import{P as x}from"./index-CiEb6DFw.js";import{r as H}from"./index-yBjzXJbu.js";import{j as S}from"./jsx-runtime-Cf8x2fCZ.js";var h={exports:{}},y={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w;function B(){if(w)return y;w=1;var e=H();function r(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var s=typeof Object.is=="function"?Object.is:r,a=e.useState,u=e.useEffect,t=e.useLayoutEffect,d=e.useDebugValue;function i(o,l){var v=l(),g=a({inst:{value:v,getSnapshot:l}}),f=g[0].inst,E=g[1];return t(function(){f.value=v,f.getSnapshot=l,c(f)&&E({inst:f})},[o,v,l]),u(function(){return c(f)&&E({inst:f}),o(function(){c(f)&&E({inst:f})})},[o]),d(v),v}function c(o){var l=o.getSnapshot;o=o.value;try{var v=l();return!s(o,v)}catch{return!0}}function m(o,l){return l()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:i;return y.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,y}var R;function K(){return R||(R=1,h.exports=B()),h.exports}var O=K();function W(){return O.useSyncExternalStore(J,()=>!0,()=>!1)}function J(){return()=>{}}var L="Avatar",[Q]=D(L),[X,I]=Q(L),b=n.forwardRef((e,r)=>{const{__scopeAvatar:s,...a}=e,[u,t]=n.useState("idle");return S.jsx(X,{scope:s,imageLoadingStatus:u,onImageLoadingStatusChange:t,children:S.jsx(x.span,{...a,ref:r})})});b.displayName=L;var _="AvatarImage",k=n.forwardRef((e,r)=>{const{__scopeAvatar:s,src:a,onLoadingStatusChange:u=()=>{},...t}=e,d=I(_,s),i=Y(a,t),c=G(m=>{u(m),d.onImageLoadingStatusChange(m)});return A(()=>{i!=="idle"&&c(i)},[i,c]),i==="loaded"?S.jsx(x.img,{...t,ref:r,src:a}):null});k.displayName=_;var j="AvatarFallback",$=n.forwardRef((e,r)=>{const{__scopeAvatar:s,delayMs:a,...u}=e,t=I(j,s),[d,i]=n.useState(a===void 0);return n.useEffect(()=>{if(a!==void 0){const c=window.setTimeout(()=>i(!0),a);return()=>window.clearTimeout(c)}},[a]),d&&t.imageLoadingStatus!=="loaded"?S.jsx(x.span,{...u,ref:r}):null});$.displayName=j;function C(e,r){return e?r?(e.src!==r&&(e.src=r),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Y(e,{referrerPolicy:r,crossOrigin:s}){const a=W(),u=n.useRef(null),t=a?(u.current||(u.current=new window.Image),u.current):null,[d,i]=n.useState(()=>C(t,e));return A(()=>{i(C(t,e))},[t,e]),A(()=>{const c=o=>()=>{i(o)};if(!t)return;const m=c("loaded"),p=c("error");return t.addEventListener("load",m),t.addEventListener("error",p),r&&(t.referrerPolicy=r),typeof s=="string"&&(t.crossOrigin=s),()=>{t.removeEventListener("load",m),t.removeEventListener("error",p)}},[t,s,r]),d}var Z=b,ee=k,te=$;const re=["1","2","3","4","5","6","7","8","9"],ae=["solid","soft"],ne={...q,size:{type:"enum",className:"rt-r-size",values:re,default:"3",responsive:!0},variant:{type:"enum",className:"rt-variant",values:ae,default:"soft"},...T,...U,...V,fallback:{type:"ReactNode",required:!0}},oe=n.forwardRef((e,r)=>{const{asChild:s,children:a,className:u,style:t,color:d,radius:i,...c}=M(e,ne,P);return n.createElement(Z,{"data-accent-color":d,"data-radius":i,className:N("rt-reset","rt-AvatarRoot",u),style:t,asChild:s},z({asChild:s,children:a},n.createElement(F,{ref:r,...c})))});oe.displayName="Avatar";const F=n.forwardRef(({fallback:e,...r},s)=>{const[a,u]=n.useState("idle");return n.createElement(n.Fragment,null,a==="idle"||a==="loading"?n.createElement("span",{className:"rt-AvatarFallback"}):null,a==="error"?n.createElement(te,{className:N("rt-AvatarFallback",{"rt-one-letter":typeof e=="string"&&e.length===1,"rt-two-letters":typeof e=="string"&&e.length===2}),delayMs:0},e):null,n.createElement(ee,{ref:s,className:"rt-AvatarImage",...r,onLoadingStatusChange:t=>{var d;(d=r.onLoadingStatusChange)==null||d.call(r,t),u(t)}}))});F.displayName="AvatarImpl";export{oe as i};
