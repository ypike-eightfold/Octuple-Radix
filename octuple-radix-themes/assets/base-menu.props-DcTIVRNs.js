import{r}from"./index-BlmOqGMO.js";import{c as h}from"./index-DW48STyt.js";import{c as qe}from"./index-DZ3_ZFrS.js";import{u as N,a as Je,c as Qe}from"./index-CSHYywJy.js";import{c as et}from"./index-Dkb_ZYRU.js";import{u as tt}from"./index-CWo8_AO2.js";import{D as nt}from"./index-Bq0PzALz.js";import{h as ot,u as rt,R as st,F as at}from"./index-LsNUdSVz.js";import{u as he}from"./index-CW4F2FBO.js";import{c as Ce,a as ge,A as ct,C as ut,b as it}from"./theme-Cr0RmA42.js";import{P as lt}from"./index-CFeakEOz.js";import{P as z}from"./index-CH1-paxq.js";import{P as k,d as dt}from"./index-CiEb6DFw.js";import{c as xe,I as ft,R as mt}from"./index-b_KpNbIe.js";import{u as te}from"./index-DZCApzUK.js";import{j as u}from"./jsx-runtime-Cf8x2fCZ.js";import{o as pt}from"./flex-DvmXTkye.js";import{r as W}from"./color.prop-n6xztqZx.js";import{o as vt}from"./high-contrast.prop-BhzBAZU8.js";var ee=["Enter"," "],ht=["ArrowDown","PageUp","Home"],_e=["ArrowUp","PageDown","End"],Mt=[...ht,..._e],Ct={ltr:[...ee,"ArrowRight"],rtl:[...ee,"ArrowLeft"]},gt={ltr:["ArrowLeft"],rtl:["ArrowRight"]},F="Menu",[O,xt,_t]=qe(F),[I,dn]=et(F,[_t,Ce,xe]),L=Ce(),Re=xe(),[Pe,S]=I(F),[Rt,K]=I(F),Se=e=>{const{__scopeMenu:n,open:t=!1,children:o,dir:c,onOpenChange:a,modal:l=!0}=e,p=L(n),[v,m]=r.useState(null),f=r.useRef(!1),s=te(a),d=tt(c);return r.useEffect(()=>{const C=()=>{f.current=!0,document.addEventListener("pointerdown",M,{capture:!0,once:!0}),document.addEventListener("pointermove",M,{capture:!0,once:!0})},M=()=>f.current=!1;return document.addEventListener("keydown",C,{capture:!0}),()=>{document.removeEventListener("keydown",C,{capture:!0}),document.removeEventListener("pointerdown",M,{capture:!0}),document.removeEventListener("pointermove",M,{capture:!0})}},[]),u.jsx(ge,{...p,children:u.jsx(Pe,{scope:n,open:t,onOpenChange:s,content:v,onContentChange:m,children:u.jsx(Rt,{scope:n,onClose:r.useCallback(()=>s(!1),[s]),isUsingKeyboardRef:f,dir:d,modal:l,children:o})})})};Se.displayName=F;var Pt="MenuAnchor",ne=r.forwardRef((e,n)=>{const{__scopeMenu:t,...o}=e,c=L(t);return u.jsx(ct,{...c,...o,ref:n})});ne.displayName=Pt;var oe="MenuPortal",[St,Ee]=I(oe,{forceMount:void 0}),Ie=e=>{const{__scopeMenu:n,forceMount:t,children:o,container:c}=e,a=S(oe,n);return u.jsx(St,{scope:n,forceMount:t,children:u.jsx(z,{present:t||a.open,children:u.jsx(lt,{asChild:!0,container:c,children:o})})})};Ie.displayName=oe;var x="MenuContent",[Et,re]=I(x),we=r.forwardRef((e,n)=>{const t=Ee(x,e.__scopeMenu),{forceMount:o=t.forceMount,...c}=e,a=S(x,e.__scopeMenu),l=K(x,e.__scopeMenu);return u.jsx(O.Provider,{scope:e.__scopeMenu,children:u.jsx(z,{present:o||a.open,children:u.jsx(O.Slot,{scope:e.__scopeMenu,children:l.modal?u.jsx(It,{...c,ref:n}):u.jsx(wt,{...c,ref:n})})})})}),It=r.forwardRef((e,n)=>{const t=S(x,e.__scopeMenu),o=r.useRef(null),c=N(n,o);return r.useEffect(()=>{const a=o.current;if(a)return ot(a)},[]),u.jsx(se,{...e,ref:c,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:h(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),wt=r.forwardRef((e,n)=>{const t=S(x,e.__scopeMenu);return u.jsx(se,{...e,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),yt=Qe("MenuContent.ScrollLock"),se=r.forwardRef((e,n)=>{const{__scopeMenu:t,loop:o=!1,trapFocus:c,onOpenAutoFocus:a,onCloseAutoFocus:l,disableOutsidePointerEvents:p,onEntryFocus:v,onEscapeKeyDown:m,onPointerDownOutside:f,onFocusOutside:s,onInteractOutside:d,onDismiss:C,disableOutsideScroll:M,...E}=e,w=S(x,t),T=K(x,t),G=L(t),U=Re(t),le=xt(t),[Xe,de]=r.useState(null),B=r.useRef(null),He=N(n,B,w.onContentChange),V=r.useRef(0),Y=r.useRef(""),ze=r.useRef(0),Z=r.useRef(null),fe=r.useRef("right"),q=r.useRef(0),We=M?st:r.Fragment,$e=M?{as:yt,allowPinchZoom:!0}:void 0,Ze=i=>{var b,pe;const g=Y.current+i,_=le().filter(R=>!R.disabled),P=document.activeElement,J=(b=_.find(R=>R.ref.current===P))==null?void 0:b.textValue,Q=_.map(R=>R.textValue),me=Gt(Q,g,J),A=(pe=_.find(R=>R.textValue===me))==null?void 0:pe.ref.current;(function R(ve){Y.current=ve,window.clearTimeout(V.current),ve!==""&&(V.current=window.setTimeout(()=>R(""),1e3))})(g),A&&setTimeout(()=>A.focus())};r.useEffect(()=>()=>window.clearTimeout(V.current),[]),rt();const y=r.useCallback(i=>{var _,P;return fe.current===((_=Z.current)==null?void 0:_.side)&&Bt(i,(P=Z.current)==null?void 0:P.area)},[]);return u.jsx(Et,{scope:t,searchRef:Y,onItemEnter:r.useCallback(i=>{y(i)&&i.preventDefault()},[y]),onItemLeave:r.useCallback(i=>{var g;y(i)||((g=B.current)==null||g.focus(),de(null))},[y]),onTriggerLeave:r.useCallback(i=>{y(i)&&i.preventDefault()},[y]),pointerGraceTimerRef:ze,onPointerGraceIntentChange:r.useCallback(i=>{Z.current=i},[]),children:u.jsx(We,{...$e,children:u.jsx(at,{asChild:!0,trapped:c,onMountAutoFocus:h(a,i=>{var g;i.preventDefault(),(g=B.current)==null||g.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:u.jsx(nt,{asChild:!0,disableOutsidePointerEvents:p,onEscapeKeyDown:m,onPointerDownOutside:f,onFocusOutside:s,onInteractOutside:d,onDismiss:C,children:u.jsx(mt,{asChild:!0,...U,dir:T.dir,orientation:"vertical",loop:o,currentTabStopId:Xe,onCurrentTabStopIdChange:de,onEntryFocus:h(v,i=>{T.isUsingKeyboardRef.current||i.preventDefault()}),preventScrollOnEntryFocus:!0,children:u.jsx(ut,{role:"menu","aria-orientation":"vertical","data-state":Ye(w.open),"data-radix-menu-content":"",dir:T.dir,...G,...E,ref:He,style:{outline:"none",...E.style},onKeyDown:h(E.onKeyDown,i=>{const _=i.target.closest("[data-radix-menu-content]")===i.currentTarget,P=i.ctrlKey||i.altKey||i.metaKey,J=i.key.length===1;_&&(i.key==="Tab"&&i.preventDefault(),!P&&J&&Ze(i.key));const Q=B.current;if(i.target!==Q||!Mt.includes(i.key))return;i.preventDefault();const A=le().filter(b=>!b.disabled).map(b=>b.ref.current);_e.includes(i.key)&&A.reverse(),Lt(A)}),onBlur:h(e.onBlur,i=>{i.currentTarget.contains(i.target)||(window.clearTimeout(V.current),Y.current="")}),onPointerMove:h(e.onPointerMove,D(i=>{const g=i.target,_=q.current!==i.clientX;if(i.currentTarget.contains(g)&&_){const P=i.clientX>q.current?"right":"left";fe.current=P,q.current=i.clientX}}))})})})})})})});we.displayName=x;var bt="MenuGroup",ae=r.forwardRef((e,n)=>{const{__scopeMenu:t,...o}=e;return u.jsx(k.div,{role:"group",...o,ref:n})});ae.displayName=bt;var Tt="MenuLabel",ye=r.forwardRef((e,n)=>{const{__scopeMenu:t,...o}=e;return u.jsx(k.div,{...o,ref:n})});ye.displayName=Tt;var X="MenuItem",Me="menu.itemSelect",$=r.forwardRef((e,n)=>{const{disabled:t=!1,onSelect:o,...c}=e,a=r.useRef(null),l=K(X,e.__scopeMenu),p=re(X,e.__scopeMenu),v=N(n,a),m=r.useRef(!1),f=()=>{const s=a.current;if(!t&&s){const d=new CustomEvent(Me,{bubbles:!0,cancelable:!0});s.addEventListener(Me,C=>o==null?void 0:o(C),{once:!0}),dt(s,d),d.defaultPrevented?m.current=!1:l.onClose()}};return u.jsx(be,{...c,ref:v,disabled:t,onClick:h(e.onClick,f),onPointerDown:s=>{var d;(d=e.onPointerDown)==null||d.call(e,s),m.current=!0},onPointerUp:h(e.onPointerUp,s=>{var d;m.current||(d=s.currentTarget)==null||d.click()}),onKeyDown:h(e.onKeyDown,s=>{const d=p.searchRef.current!=="";t||d&&s.key===" "||ee.includes(s.key)&&(s.currentTarget.click(),s.preventDefault())})})});$.displayName=X;var be=r.forwardRef((e,n)=>{const{__scopeMenu:t,disabled:o=!1,textValue:c,...a}=e,l=re(X,t),p=Re(t),v=r.useRef(null),m=N(n,v),[f,s]=r.useState(!1),[d,C]=r.useState("");return r.useEffect(()=>{const M=v.current;M&&C((M.textContent??"").trim())},[a.children]),u.jsx(O.ItemSlot,{scope:t,disabled:o,textValue:c??d,children:u.jsx(ft,{asChild:!0,...p,focusable:!o,children:u.jsx(k.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":o||void 0,"data-disabled":o?"":void 0,...a,ref:m,onPointerMove:h(e.onPointerMove,D(M=>{o?l.onItemLeave(M):(l.onItemEnter(M),M.defaultPrevented||M.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:h(e.onPointerLeave,D(M=>l.onItemLeave(M))),onFocus:h(e.onFocus,()=>s(!0)),onBlur:h(e.onBlur,()=>s(!1))})})})}),At="MenuCheckboxItem",Te=r.forwardRef((e,n)=>{const{checked:t=!1,onCheckedChange:o,...c}=e;return u.jsx(Ne,{scope:e.__scopeMenu,checked:t,children:u.jsx($,{role:"menuitemcheckbox","aria-checked":H(t)?"mixed":t,...c,ref:n,"data-state":ie(t),onSelect:h(c.onSelect,()=>o==null?void 0:o(H(t)?!0:!t),{checkForDefaultPrevented:!1})})})});Te.displayName=At;var Ae="MenuRadioGroup",[jt,Ot]=I(Ae,{value:void 0,onValueChange:()=>{}}),je=r.forwardRef((e,n)=>{const{value:t,onValueChange:o,...c}=e,a=te(o);return u.jsx(jt,{scope:e.__scopeMenu,value:t,onValueChange:a,children:u.jsx(ae,{...c,ref:n})})});je.displayName=Ae;var Oe="MenuRadioItem",De=r.forwardRef((e,n)=>{const{value:t,...o}=e,c=Ot(Oe,e.__scopeMenu),a=t===c.value;return u.jsx(Ne,{scope:e.__scopeMenu,checked:a,children:u.jsx($,{role:"menuitemradio","aria-checked":a,...o,ref:n,"data-state":ie(a),onSelect:h(o.onSelect,()=>{var l;return(l=c.onValueChange)==null?void 0:l.call(c,t)},{checkForDefaultPrevented:!1})})})});De.displayName=Oe;var ce="MenuItemIndicator",[Ne,Dt]=I(ce,{checked:!1}),ke=r.forwardRef((e,n)=>{const{__scopeMenu:t,forceMount:o,...c}=e,a=Dt(ce,t);return u.jsx(z,{present:o||H(a.checked)||a.checked===!0,children:u.jsx(k.span,{...c,ref:n,"data-state":ie(a.checked)})})});ke.displayName=ce;var Nt="MenuSeparator",Fe=r.forwardRef((e,n)=>{const{__scopeMenu:t,...o}=e;return u.jsx(k.div,{role:"separator","aria-orientation":"horizontal",...o,ref:n})});Fe.displayName=Nt;var kt="MenuArrow",Le=r.forwardRef((e,n)=>{const{__scopeMenu:t,...o}=e,c=L(t);return u.jsx(it,{...c,...o,ref:n})});Le.displayName=kt;var ue="MenuSub",[Ft,Ke]=I(ue),Ge=e=>{const{__scopeMenu:n,children:t,open:o=!1,onOpenChange:c}=e,a=S(ue,n),l=L(n),[p,v]=r.useState(null),[m,f]=r.useState(null),s=te(c);return r.useEffect(()=>(a.open===!1&&s(!1),()=>s(!1)),[a.open,s]),u.jsx(ge,{...l,children:u.jsx(Pe,{scope:n,open:o,onOpenChange:s,content:m,onContentChange:f,children:u.jsx(Ft,{scope:n,contentId:he(),triggerId:he(),trigger:p,onTriggerChange:v,children:t})})})};Ge.displayName=ue;var j="MenuSubTrigger",Ue=r.forwardRef((e,n)=>{const t=S(j,e.__scopeMenu),o=K(j,e.__scopeMenu),c=Ke(j,e.__scopeMenu),a=re(j,e.__scopeMenu),l=r.useRef(null),{pointerGraceTimerRef:p,onPointerGraceIntentChange:v}=a,m={__scopeMenu:e.__scopeMenu},f=r.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return r.useEffect(()=>f,[f]),r.useEffect(()=>{const s=p.current;return()=>{window.clearTimeout(s),v(null)}},[p,v]),u.jsx(ne,{asChild:!0,...m,children:u.jsx(be,{id:c.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":c.contentId,"data-state":Ye(t.open),...e,ref:Je(n,c.onTriggerChange),onClick:s=>{var d;(d=e.onClick)==null||d.call(e,s),!(e.disabled||s.defaultPrevented)&&(s.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:h(e.onPointerMove,D(s=>{a.onItemEnter(s),!s.defaultPrevented&&!e.disabled&&!t.open&&!l.current&&(a.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{t.onOpenChange(!0),f()},100))})),onPointerLeave:h(e.onPointerLeave,D(s=>{var C,M;f();const d=(C=t.content)==null?void 0:C.getBoundingClientRect();if(d){const E=(M=t.content)==null?void 0:M.dataset.side,w=E==="right",T=w?-5:5,G=d[w?"left":"right"],U=d[w?"right":"left"];a.onPointerGraceIntentChange({area:[{x:s.clientX+T,y:s.clientY},{x:G,y:d.top},{x:U,y:d.top},{x:U,y:d.bottom},{x:G,y:d.bottom}],side:E}),window.clearTimeout(p.current),p.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(s),s.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:h(e.onKeyDown,s=>{var C;const d=a.searchRef.current!=="";e.disabled||d&&s.key===" "||Ct[o.dir].includes(s.key)&&(t.onOpenChange(!0),(C=t.content)==null||C.focus(),s.preventDefault())})})})});Ue.displayName=j;var Be="MenuSubContent",Ve=r.forwardRef((e,n)=>{const t=Ee(x,e.__scopeMenu),{forceMount:o=t.forceMount,...c}=e,a=S(x,e.__scopeMenu),l=K(x,e.__scopeMenu),p=Ke(Be,e.__scopeMenu),v=r.useRef(null),m=N(n,v);return u.jsx(O.Provider,{scope:e.__scopeMenu,children:u.jsx(z,{present:o||a.open,children:u.jsx(O.Slot,{scope:e.__scopeMenu,children:u.jsx(se,{id:p.contentId,"aria-labelledby":p.triggerId,...c,ref:m,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var s;l.isUsingKeyboardRef.current&&((s=v.current)==null||s.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:h(e.onFocusOutside,f=>{f.target!==p.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:h(e.onEscapeKeyDown,f=>{l.onClose(),f.preventDefault()}),onKeyDown:h(e.onKeyDown,f=>{var C;const s=f.currentTarget.contains(f.target),d=gt[l.dir].includes(f.key);s&&d&&(a.onOpenChange(!1),(C=p.trigger)==null||C.focus(),f.preventDefault())})})})})})});Ve.displayName=Be;function Ye(e){return e?"open":"closed"}function H(e){return e==="indeterminate"}function ie(e){return H(e)?"indeterminate":e?"checked":"unchecked"}function Lt(e){const n=document.activeElement;for(const t of e)if(t===n||(t.focus(),document.activeElement!==n))return}function Kt(e,n){return e.map((t,o)=>e[(n+o)%e.length])}function Gt(e,n,t){const c=n.length>1&&Array.from(n).every(m=>m===n[0])?n[0]:n,a=t?e.indexOf(t):-1;let l=Kt(e,Math.max(a,0));c.length===1&&(l=l.filter(m=>m!==t));const v=l.find(m=>m.toLowerCase().startsWith(c.toLowerCase()));return v!==t?v:void 0}function Ut(e,n){const{x:t,y:o}=e;let c=!1;for(let a=0,l=n.length-1;a<n.length;l=a++){const p=n[a],v=n[l],m=p.x,f=p.y,s=v.x,d=v.y;f>o!=d>o&&t<(s-m)*(o-f)/(d-f)+m&&(c=!c)}return c}function Bt(e,n){if(!n)return!1;const t={x:e.clientX,y:e.clientY};return Ut(t,n)}function D(e){return n=>n.pointerType==="mouse"?e(n):void 0}var fn=Se,mn=ne,pn=Ie,vn=we,hn=ae,Mn=ye,Cn=$,gn=Te,xn=je,_n=De,Rn=ke,Pn=Fe,Sn=Le,En=Ge,In=Ue,wn=Ve;const Vt=["1","2"],Yt=["solid","soft"],yn={size:{type:"enum",className:"rt-r-size",values:Vt,default:"2",responsive:!0},variant:{type:"enum",className:"rt-variant",values:Yt,default:"solid"},...W,...vt},bn={...pt,...W},Tn={...W},An={...W};export{mn as A,vn as C,hn as G,Cn as I,Mn as L,pn as P,fn as R,Pn as S,gn as a,Rn as b,dn as c,xn as d,_n as e,En as f,In as g,wn as h,Sn as i,bn as j,Tn as k,yn as n,An as p};
